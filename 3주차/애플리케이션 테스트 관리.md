# 10.1 어플리케이션 테스트 케이스 설계

## 애플리케이션 테스트 케이스 작성

### 소프트웨어 테스트
개발된 응용 애플리케이션이나 시스템이 사용자가 요구하는 기능과 성능, 사용성, 안정성 등을 만족하는지 확인하고 노출되지 않은 결함 찾아내는 활동

### 필요성
- 오류 발견 관점
- 오류 예방 관점
- 품질 향상 관점

### 기본 원칙

#### 1. 테스트 원리

- 결함 존재 증명
  - 결함이 존재함을 밝힘
  - 결함이 없다는 것을 밝힐 수는 X
  - 결함 줄이는 활동
- 완벽한 테스팅은 불가능
  - 무한 경로, 입력값 존재하여 완벽한 테스트 어려움
- 초기 집중
  - 조기 테스트 설계시 장점 : 테스팅 결과를 단시간에 알 수 있고 기간 단축, 재작업 줄일 수 있음
  - 개발 초기 체계적인 분석 및 설계가 수행되지 못하면 결과가 후반에 영향을 미치게 되어 비용이 커진다는 요르돈의 법칙 적용
- 결함 집중
  - 적은 수의 모듈에서 대다수의 결함 발견
  - 오류의 80%는 전체 모듈의 20%에서 발견
  - 파레토 법칙 80 대 20
- 살충제 패러독스
  - 동일 테스트 케이스에 의한 반복적 테스트는 새로운 버그를 찾지 못함
  - 테스트 케이스 정기적 리뷰와 다른 시각에서 접근 필요
- 정황 의존성
  - 정황과 비즈니스 도메인에 따라 테스트 다르게 수행
- 오류 부재의 궤변
  - 요구사항 충족시켜주지 못한다면 결함이 없다고 하더라도 품질 높지 않음



#### 2. 소프트웨어 테스트 프로세스
테스트 계획 → 테스트 분석 및 디자인 → 테스트 케이스 및 시나리오 작성 → 테스트 수행 → 테스트 결과 평가 및 리포팅



#### 3. 소프트웨어 테스트 산출물

| 산출물          | 설명                                                         |
| --------------- | ------------------------------------------------------------ |
| 테스트 계획서   | 테스트 목적과 범위 정의, 조직의 역할 및 책임 정의 등 테스트 수행 계획한 문서 |
| 테스트 베이시스 | 테스트 설계를 위한 기준이 되는 문서                          |
| 테스트 케이스   | 테스트를 하기 위한 설계 산출물, 입력값, 실행조건, 기대결과로 구성 |
| 테스트 슈트     | 테스트 케이스를 실행 환경에 따라 구분, 시나리오가 포함되지 않은 단순한 테스트 케이스들의 모음 |
| 테스트 시나리오 | 테스트 되어야 할 기능, 특징, 상황 작성, 하나의 테스트 시나리오가 여러 테스트 케이스 포함 가능 |
| 테스트 스크립트 | 테스트 케이스의 실행 순서 작성.                              |
| 테스트 결과서   | 테스트 결과 정리한 문서                                      |



### 소프트웨어 테스트 유형

#### 1. 프로그램 실행 여부에 따른 분류
| 분류        | 설명                                  | 유형                                                |
| ----------- | ------------------------------------- | --------------------------------------------------- |
| 정적 테스트 | 테스트 대상을 실행하지 않고 구조 분석 | 리뷰, 정적 분석                                     |
| 동적 테스트 | 소프트웨어를 실행하는 방식으로 테스트 | 화이트박스 테스트, 블랙박스 테스트, 경험기반 테스트 |



#### 2. 테스트 기법에 따른 분류

##### 화이트박스 테스트
각 응용 프로그램의 내부 구조와 동작 검사하는 소프트웨어 테스트

| 유형                    | 내용                                                         |
| ----------------------- | ------------------------------------------------------------ |
| 구문 커버리지           | 프로그램 내 모든 명령문을 적어도 한번 수행                   |
| 결정 커버리지           | 전체 조건식이 적어도 한번은 참과 거짓의 결과를 수행, 구문 커버리지 포함 |
| 조건 커버리지           | 개별 조건식이 적어도 한번은 참과 거짓의 결과가 되도록 수행, 구문 커버리지 포함 |
| 조건/결정 커버리지      | 전체 조건식 + 개별 조건식 적어도 한번은 참과 거짓의 결과     |
| 변경 조건/결정 커버리지 | 개별 조건식이 다른 개별 조건식에 영향을 받지 않고 전체 조건식에 독립적으로 영향을 주도록 함으로써 조건/결정 커버리지 향상 |
| 다중 조건 커버리지      | 결정 조건 내 모든 개별 조건식의 모든 가능한 조합을 100% 보장 |
| 기본 경로 커버리지      | 수행 가능한 모든 경로 테스트                                 |
| 제어 흐름 테스트        | 프로그램의 제어 구조를 그래프 형태로 나타내어 내부 로직 테스트 |
| 데이터 흐름 테스트      | 제어 흐름 그래프 + 데이터 사용현황 추가 그래프               |



##### 블랙박스 테스트
기능 및 동작 위주의 테스트

| 유형                    | 내용                                                         |
| ----------------------- | ------------------------------------------------------------ |
| 동등분할 테스트         | 입력 데이터의 영역을 유사한 도메인 별로 그룹핑하여 대푯값 테스트 |
| 경곗값 분석 테스트      | 등가 분할 후 경곗값을 포함하여 테스트, 최솟값 바로 위, 최대치 바로 아래 등 극한 한계 테스트 |
| 결정 테이블 테스트      | 요구사항의 논리와 발생조건을 테이블 형태로 나열, 조건과 행위를 모두 조합하여 테스트 |
| 상태 전이 테스트        | 객체의 상태를 구분하고 이벤트에 의해 상태 전이 되는 경우의 수를 수행 |
| 유스케이스 테스트       | 시스템이 유스케이스로 모델링 되어 있을 때 프로세스 흐름을 기반으로 수행 |
| 분류 트리 테스트        | SW의 일부 또는 전체를 트리구조로 분석 및 표현 하여 테스트 케이스를 설계하여 테스트 |
| 페어와이즈 테스트       | 테스트 데이터값들 간 최소한 한번씩 조합하는 방식, 기능적 범위를 상대적으로 적은양의 테스트 세트를 구성하기 위함 |
| 원인-결과 그래프 테스트 | 그래프를 활용하여 입력 데이터간의 관계 및 출력에 미치는 영향을 분석하여 효용성이 높은 테스트 케이스를 선정하여 테스트 |
| 비교 테스트             | 여러 버전의 프로그램에 같은 입력값 넣어서 동일한 결과 데이터가 나오는지 비교 |



##### 테스트 시각에 따른 분류

| 분류 | 설명                                                         |
| ---- | ------------------------------------------------------------ |
| 검증 | 소프트웨어 개발 과정 테스트<br/>개발 규격과 요구를 충족시키는지 판단<br/>개발자 혹은 시험자의 시각으로 소프트웨어가 명세화된 기능을 올바르게 수행하는지 알아보는 과정 |
| 확인 | 소프트웨어 결과 테스트<br/>제대로 동작하는지 확인<br/>사용자 시각으로 올바른 소프트웨어가 개발되었는지 입증 |



##### 테스트 목적에 따른 분류

| 분류        | 설명                                                         |
| ----------- | ------------------------------------------------------------ |
| 회복 테스트 | 고의로 실패를 유도하고 정상적 복귀 여부를 테스트             |
| 안전 테스트 | 소스 코드 내 보안적인 결함 미리 점검                         |
| 성능 테스트 | 이벤트에 응답 시간, 처리 업무량, 반응 속도 등 측정           |
| 구조 테스트 | 시스템 내부 논리 경로, 소스코드 복잡도 평가                  |
| 회귀 테스트 | 오류 제거하거나 수정된 시스템에서 새로운 오류 없는지 확인    |
| 병행 테스트 | 변경된 시스템과 기존 시스템에 동일 데이터 입력 후 결과를 비교하는 테스트 |



성능 테스트 상세 유형

| 분류            | 설명                                                         |
| --------------- | ------------------------------------------------------------ |
| 부하 테스트     | 부하 계속 증가시키면서 임계점 찾는 테스트                    |
| 강도 테스트     | 처리 능력 이상의 부하를 가하여 비정상적인 상황에서 처리 테스트 |
| 스파이크 테스트 | 짧은 시간에 사용자가 몰릴때 반응 측정 테스트                 |
| 내구성 테스트   | 오랜 시간동안 높은 부하를 가하여 시스템 반응 테스트          |



### 테스트 케이스

특정 요구사항에 준수하는 지를 확인하기 위해 개발된 입력값, 실행 조건, 예상된 결과의 집합



### 테스트 오라클
테스트의 결과가 참인지 거짓인지를 판단하기 위해서 사전에 정의된 참값을 입력하여 비교하는 방법

| 유형            | 설명                                                         |
| --------------- | ------------------------------------------------------------ |
| 참 오라클       | 모든 입력값에 대해 기대하는 결과를 생성, 오류 모두 검출      |
| 샘플링 오라클   | 특정한 몇 개의 입력값에 대해서만 결과 제공                   |
| 휴리스틱 오라클 | 샘플링 오라클 개선 + 나머지는 휴리스틱 처리                  |
| 일관성 오라클   | 애플리케이션 변경되었을 때, 전과 후의 결괏값이 동일한지 확인 |



## 애플리케이션 테스트 수행

### 단위 테스트
- 개별적인 모듈 테스트
- 구현 단계에서 수행
- 모듈 단독 실행할 수 있는 테스트 베드 환경 필요

#### 목 객체 생성 프레임워크

객체지향 프로그램에서는 컴포넌트 테스트 수행 시 테스트 되는 메소드는 다른 클래스의 객체에 의존하는데, 이런 경우 메소드를 고립화하여 테스트하는 것이 불가능하므로 독립적인 컴포넌트 테스트를 위해서는 스텁의 **객체지향 버전인 목(Mock) 객체**가 필요

| 유형            | 설명                                                         |
| --------------- | ------------------------------------------------------------ |
| 더미 객체       | 테스트할 때 객체만 필요하고 기능까지는 필요하지 않은 경우 사용 |
| 테스트 스텁     | 타 모듈 기능을 단순히 수행, 더미 객체 단순 기능에 특정 상태 가정해서 특정 값 리턴하거나 메시지 출력 |
| 테스트 드라이버 | 테스트 대상 하위 모듈 호출, 파라미터 전달, 모듈 테스트 수행 후 결과 도출 |
| 테스트 스파이   | 출력 검증 시 사용                                            |
| 가짜 객체       | 실제 협력 클래스의 기능을 대체해야할 경우 사용               |

#### 단위 테스트의 원칙

- 빠르게 수행, 다른 컴포넌트에 의존 X
- 몇번 실행해도 동일한 결과가 나와야 함



### 통합 테스트
- 각 모듈 간 인터페이스 관련 오류 및 결함을 찾아내기 위한 체계적인 테스트 기법
- 모듈 또는 컴포넌트 단위 프로그램이 설계 단계에서 제시한 애플리케이션과 동일한 구조와 기능으로 구현된 것인지 확인
- **하**향식(**스**텁), **상**향식(**드**라이버)

#### 1. 하향식 통합
메인 제어 모듈로부터 아래 방향으로 제어 경로 따라 이동하면서 하향식으로 통합하면서 테스트 진행, '너비-우선','깊이-우선' 방식으로 통합

#### 2. 상향식 통합
위쪽으로 제어의 경로를 따라 이동하면서 구축과 테스트

#### 3. 샌드위치 통합

상향식 통합 + 하향식 테스트
큰 규모의 통합 테스트에서 사용
병렬 테스트, 시간 절약 가능
스텁과 드라이버의 필요성 매우 높음, 비용 많이 소요



### 테스트 자동화 도구
반복적인 테스트 작업 스크립트 형태로 구현, 시간 단축, 인력 투입비용 최소화, 쉽고 효율적인 테스트 수행



#### 1. 정적 분석 도구

애플리케이션 실행하지 않고 분석

소스코드에 대한 이해 바탕으로 분석



#### 2. 테스트 실행 도구

데이터 주도 접근 방식

키워드 주도 접근 방식



#### 3. 성능 테스트 도구

애플리케이션 처리량, 응답시간, 경과시간, 자원 사용률에 대해 가상의 사용자를 생성하고 테스트 수행

성능 목표를 달성하였는지 확인



#### 4. 테스트 통제 도구

테스트 관리도구, 형상 관리 도구, 결함 추적/관리 도구 등



### 테스트 하네스
애플리케이션 컴포넌트 및 모듈을 테스트하는 환경의 일부분으로, 테스트를 지원하기 위한 코드와 데이터

| 유형            | 설명                                                         |
| --------------- | ------------------------------------------------------------ |
| 테스트 드라이버 | 하위 모듈 호출 **(상위 모듈 개념)**                          |
| 테스트 슈트     | **테스트 케이스의 집합**                                     |
| 테스트 스텁     | 호출하는 타 모듈의 기능을 단순히 수행 **(하위 모듈 개념)**   |
| 테스트 케이스   | 요구사항을 준수하는 지를 확인하기 위해 개발된 입력값, 실행조건, 예상 결과 집합 |
| 테스트 스크립트 | 자동화된 **테스트 실행 절차에 대한 명세**                    |
| 목 오브젝트     | 사용자 행위를 조건부로 사전에 입력해두면, 그 상황에 예정된 행위 수행 |







































## 문제 봅시다

#### 1. 다음은 블랙박스 기법에 대한 예제이다. 블랙박스 기법 두 가지를 쓰시오.

1. 0 <= x <= 10 이면 -1, 0, 10, 11 검사

   -> **경곗값 분석 테스트**

2. 유횻값 무효값 나누어서 대푯값을 검사

   -> **동등분할 테스트**



#### 2. 테스트 하네스 구성요소 중 모듈 통합 테스트에서 사용하는 요소로 상향식 통합 테스트에서는 테스트 드라이버, 하향식 통합 테스트에서는 테스트 (   )을/를 사용한다. 괄호 안에 들어갈 용어를 쓰시오.

**스텁**